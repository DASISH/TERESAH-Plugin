<section id="viewHeader">
	<div class="page-header">
		<h1 ng-bind="item.descriptions.title"></h1>
	</div>
</section>

<section>
<div class="row">

	<div class="col-lg-8">
		<div class="row">
			<section class="col-lg-12" id="descrition">
				<h2 ng-bind="item.desc.provider"></h2>
				<p>Source : <a ng-href="{{item.desc.uri}}" ng-bind="item.desc.uri"></a></p>
				<p ng-bind-html="item.desc.text | newline"></p>
				<hr />
			</section>
			<div class="col-lg-12">
				<section id="keywords"  ng-show="item.keyword[0] && !(ui.sections.list['Keywords'])">
					<h2>{{ 'keywords' | translate }}
						<div class="pull-right">
							<span class="btn btn-default" ng-click="ui.sections.toggle('Keywords')">
                                                            <span class="glyphicon glyphicon-eye-close">                                                                
                                                            </span>                                     
                                                            {{ 'hide block' | translate }}
                                                        </span>
							<span class="dropdown">
								<span class="dropdown-toggle btn btn-default">
									<span class="glyphicon glyphicon-cog"></span>
                                                                        {{ 'options' | translate }}
								</span>
								<ul class="dropdown-menu">
									<li><a ng-click="ui.keywords.provider.show = !ui.keywords.provider.show">{{ 'providers' | translate }}</a></li>
									<li><a ng-click="ui.keywords.taxonomy.show = !ui.keywords.taxonomy.show">{{ 'taxonomies' | translate }}</a></li>
									<li><a ng-click="ui.keywords.show = !ui.keywords.show">{{ 'hide show' | translate }}</a></li>
								</ul>
							</span>
						</div>
					</h2>
					<div class="btn-group btn-block  btn-group-justified" ng-show="ui.keywords.provider.show">
						<a class="btn" ng-click="ui.keywords.provider.selected = null" ng-class="{'btn-primary': (!ui.keywords.provider.selected), 'btn-success' : ui.keywords.provider.selected}">{{ 'all providers' | translate }}</a>
						<a class="btn" ng-repeat="prov in item.keyword | kProviders" ng-click="ui.keywords.provider.selected = prov" ng-class="{'btn-primary': (ui.keywords.provider.selected == prov), 'btn-success' : (ui.keywords.provider.selected != prov)}" ng-bind="prov"></a>
					</div>
					<div class="btn-group btn-group-sm btn-block  btn-group-justified" ng-show="ui.keywords.taxonomy.show">
						<a class="btn" ng-click="ui.keywords.taxonomy.selected = null" ng-class="{'btn-primary': (!ui.keywords.taxonomy.selected), 'btn-success' : ui.keywords.taxonomy.selected}">{{ 'all taxonomies' | translate }}</a>
						<a class="btn" ng-repeat="prov in item.keyword | kTaxonomies" ng-click="ui.keywords.taxonomy.selected = prov" ng-class="{'btn-primary': (ui.keywords.taxonomy.selected == prov), 'btn-success' : (ui.keywords.taxonomy.selected != prov)}" ng-bind="prov" style="text-transform:capitalize;"></a>
					</div>
					<ul  class="list-inline" style="margin-top:10px;" ng-show="ui.keywords.show">
                                            <li ng-repeat="kw in item.keyword |filter:{provider.domain : ui.keywords.provider.selected, provider.taxonomy : ui.keywords.taxonomy.selected}"  class="badge" style="margin-right:10px; margin-bottom:5px; text-transform:capitalize;"  ><a style="color:#FFF;" ng-href="#/facet/Keyword/{{kw.identifier}}" ng-bind="kw.keyword"></a></li>
					</ul>
					<hr />
				</section>
				<section id="publications"  ng-show="item.publications[0] && !(ui.sections.list['Publications'])">
					<h2>{{ 'publications' | translate }}
						<div class="pull-right">
							<span class="btn btn-default" ng-click="ui.sections.toggle('Publications')"><span class="glyphicon glyphicon-eye-close"></span></span>
							<span class="dropdown">
								<span class="dropdown-toggle btn btn-default">
									<span class="glyphicon glyphicon-cog"></span>
								</span>
								<ul class="dropdown-menu">
									<li><a ng-click="ui.publications.filter.show = !ui.publications.filter.show">Filter</a></li>
									<li><a ng-click="ui.publications.show = !ui.publications.show">{{ 'hide show' | translate }}</a></li>
								</ul>
							</span>
						</div>
					</h2>
					<div class="btn-group btn-group-sm btn-block  btn-group-justified" ng-show="ui.publications.filter.show">
						<input class="form-control" type="text" ng-model="ui.publications.filter.input" placeholder="{{ 'filter the publications' | translate }}" />
					</div>
					<div style="margin-top:10px;" ng-show="ui.publications.show">
						<p ng-repeat="pub in item.publications |filter:ui.publications.filter.input" ng-bind="pub.name"></p>
					</div>
					<hr />
				</section>
				<section id="projects" ng-show="item.projects[0] && !(ui.sections.list['Projects'])">
					<h2>{{ 'projects' | translate }}
						<div class="pull-right">
							<span class="btn btn-default" ng-click="ui.sections.toggle('Projects')"><span class="glyphicon glyphicon-eye-close"></span></span>
							<span class="dropdown">
								<span class="dropdown-toggle btn btn-default">
									<span class="glyphicon glyphicon-cog"></span>
								</span>
								<ul class="dropdown-menu">
									<li><a ng-click="ui.projects.filter.show = !ui.projects.filter.show">Filter</a></li>
									<li><a ng-click="ui.projects.show = !ui.projects.show">{{ 'hide show' | translate }}</a></li>
								</ul>
							</span>
						</div>
					</h2>
					<div class="btn-group btn-group-sm btn-block  btn-group-justified" ng-show="ui.projects.filter.show">
						<input class="form-control" type="text" ng-model="ui.projects.filter.input" placeholder="{{ 'filter the projects' | translate }}" />
					</div>
					<div style="margin-top:10px;" ng-show="ui.projects.show">
						<div ng-repeat="pub in item.projects |filter:ui.projects.filter.input">
							<h5 ng-bind="pub.name"></h5>
							<p><small  ng-bind="pub.informations.description"></small> <small>{{ 'contact' | translate }} : <a ng-href="mailto:{{pub.informations.contact}}" ng-bind="pub.informations.contact"></a></small></p>
							
						</div>
					</div>
					<hr />
				</section>
				<section id="features" ng-show="item.features[0] && !(ui.sections.list['Features'])">
					<h2>{{ 'features' | translate }}
						<div class="pull-right">
							<span class="btn btn-default" ng-click="ui.sections.toggle('Features')"><span class="glyphicon glyphicon-eye-close"></span></span>
							<span class="dropdown">
								<span class="dropdown-toggle btn btn-default">
									<span class="glyphicon glyphicon-cog"></span>
								</span>
								<ul class="dropdown-menu">
									<li><a ng-click="ui.features.filter.show = !ui.features.filter.show">{{ 'filter' | translate }}</a></li>
									<li><a ng-click="ui.features.show = !ui.features.show">{{ 'hide show' | translate }}</a></li>
								</ul>
							</span>
						</div>
					</h2>
					<div class="btn-group btn-group-sm btn-block  btn-group-justified" ng-show="ui.features.filter.show">
						<input class="form-control" type="text" ng-model="ui.features.filter.input" placeholder="{{ 'filter the features' | translate }}" />
					</div>
					<div style="margin-top:10px;" ng-show="ui.features.show">
						<ul ng-repeat="pub in item.features |filter:ui.features.filter.input">
							<li><em ng-bind="pub.name"></em>
								<p><small ng-bind="pub.informations.description"></small></p>
							</li>
						</ul>
					</div>
					<hr />
				</section>
				<section id="standards" ng-show="item.standards[0] && !(ui.sections.list['Standards'])">
					<h2>{{ 'standards' | translate }}
						<div class="pull-right">
							<span class="btn btn-default" ng-click="ui.sections.toggle('Standards')"><span class="glyphicon glyphicon-eye-close"></span></span>
							<span class="dropdown">
								<span class="dropdown-toggle btn btn-default">
									<span class="glyphicon glyphicon-cog"></span>
								</span>
								<ul class="dropdown-menu">
									<li><a ng-click="ui.standards.filter.show = !ui.standards.filter.show">{{ 'filter' | translate }}</a></li>
									<li><a ng-click="ui.standards.show = !ui.standards.show">{{ 'hide show' | translate }}</a></li>
								</ul>
							</span>
						</div>
					</h2>
					<div class="btn-group btn-group-sm btn-block  btn-group-justified" ng-show="ui.standards.filter.show">
						<input class="form-control" type="text" ng-model="ui.standards.filter.input" placeholder="{{ 'filter the standards' | translate }}" />
					</div>
					<div style="margin-top:10px;" ng-show="ui.standards.show">
						<ul ng-repeat="std in item.standards |filter:ui.standards.filter.input">
							<li><a ng-href="{{std.informations.source}}"><em ng-bind="std.name"></em> ( <span ng-bind="std.informations.version"></span> )</a></li>
						</ul>
					</div>
					<hr />
				</section>
				<section id="videos" ng-show="item.videos[0] && !(ui.sections.list['Videos'])">
					<h2>{{ 'video' | translate }}
						<div class="pull-right">
							<span class="btn btn-default" ng-click="ui.sections.toggle('Videos')"><span class="glyphicon glyphicon-eye-close"></span></span>
							<span class="dropdown">
								<span class="dropdown-toggle btn btn-default">
									<span class="glyphicon glyphicon-cog"></span>
								</span>
								<ul class="dropdown-menu">
									<li><a ng-click="ui.videos.provider.show = !ui.videos.provider.show">{{ 'providers' | translate }}</a></li>
									<li><a ng-click="ui.videos.filter.show = !ui.videos.filter.show">{{ 'filter' | translate }}</a></li>
									<li><a ng-click="ui.videos.show = !ui.videos.show">{{ 'hide show' | translate }}</a></li>
								</ul>
							</span>
						</div>
					</h2>
					<div class="btn-group btn-block  btn-group-justified" ng-show="ui.videos.provider.show">
						<a class="btn" ng-click="ui.videos.provider.selected = null" ng-class="{'btn-primary': (!ui.videos.provider.selected), 'btn-success' : ui.videos.provider.selected}">{{ 'all providers' | translate }}</a>
						<a class="btn" ng-repeat="prov in item.videos | vProviders" ng-click="ui.videos.provider.selected = prov; console.log(prov)" ng-class="{'btn-primary': (ui.videos.provider.selected == prov), 'btn-success' : (ui.videos.provider.selected != prov)}" ng-bind="prov"></a>
					</div>
					<div class="btn-group btn-group-sm btn-block  btn-group-justified" ng-show="ui.videos.filter.show">
						<input class="form-control" type="text" ng-model="ui.videos.filter.input" placeholder="{{ 'filter the standards' | translate }}" />
					</div>
					<div style="margin-top:10px;" ng-show="ui.videos.show">
						<div class="row">
							<div class="col-md-4" ng-repeat="video in item.videos | filter:ui.videos.filter.input | videoFormater | filter:{informations.provider : ui.videos.provider.selected}">
								<h5 ng-bind="video.name"></h5>
								<div class="flex-video widescreen"><iframe ng-src="{{video.embed}}" frameborder="0" allowfullscreen=""></iframe></div>
							</div>
						</div>
					</div>
					<hr />
				</section>
			</div>
		</div>
	</div>
	<div class="col-lg-4">
		<section class="panel panel-info" id ="informations">
			<div class="panel-heading">
				<h3 class="panel-title" ng-bind=" 'details' | translate "></h3>
			</div>
			<div class="panel-body">
				<dl>
					<dt ng-show="item.type">{{ 'tool type' | translate }}</dt>
						<dd ng-repeat="type in item.type" legend="{{type.uri}}"><a ng-href="#/facet/ToolType/{{type.identifier}}" ng-bind="type.type"></a></dd>
					<dt ng-show="item.licence">{{ 'licence' | translate }}</dt>
						<dd ng-repeat="licence in item.licence" ng-bind="licence.name"></dd>
					<dt ng-show="item.licence">{{ 'licence type' | translate }}</dt>
						<dd ng-repeat="licence in item.licence" ng-bind="licence.type"></dd>
					<dt ng-show="item.suite">{{ 'suite' | translate }}</dt>
						<dd ng-repeat="suite in item.suite" ng-bind="suite.name"></dd>
					<dt ng-show="item.descriptions.homepage">{{ 'homepage' | translate }}</dt>
						<dd><a ng-href="{{item.descriptions.homepage}}" ng-bind="item.descriptions.homepage"></a></dd>
					<dt ng-show="item.applicationType">{{ 'application type(s)' | translate }}</dt>
						<dd ng-repeat="os in item.applicationType" ng-bind="os.name"></dd>
					<dt ng-show="item.platform">{{ 'platform(s)' | translate }}</dt>
						<dd ng-repeat="os in item.platform" ng-bind="os"></dd>
					<dt ng-show="item.developers">{{ 'developer(s)' | translate }}</dt>
	                	<dd ng-repeat="developer in item.developers"><a ng-href="#/facet/Developer/{{developer.identifier}}" ng-bind="developer.name"></a></dd>
	                <dt ng-show="item.similar">{{ 'similar tools' | translate }}</dt>
	                	<dd ng-repeat="similar in item.similar"><a ng-href="#/tool/{{similar.shortname}}" ng-bind="similar.title"></a></dd>        
				</dl>
			</div>
		</section>
		<section id="share" class="panel panel-primary">
			<div class="panel-heading">
				<div class="pull-right">
					<a target="_blank" ng-href="http://www.facebook.com/sharer.php?u={{ui.share}}">
						<span class="icon-stack">
							<i class="icon-check-empty icon-stack-base"></i>
							<i class="icon-facebook"></i>
						</span>
					</a>
					 | 
					<a target="_blank" ng-href="https://plus.google.com/share?url={{ui.share}}">
						<span class="icon-stack">
							<i class="icon-check-empty icon-stack-base"></i>
							<i class="icon-google-plus"></i>
						</span>
					</a>
					 | 
					<a target="_blank" ng-href="http://twitter.com/share?text=DASISH-TERESAH%20{{item.descriptions.title}}&url={{ui.share}}">
						<span class="icon-stack">
							<i class="icon-check-empty icon-stack-base"></i>
							<i class="icon-twitter"></i>
						</span>
					</a>
				</div>
				<h3  class="panel-title"ng-bind="'share' | translate"></h3>
			</div>
		</section>
		<section id="availableDescriptions" ng-show="item.descriptions.description[1]"class="panel panel-info">
			<div class="panel-heading">
				<h3 class="panel-title" ng-bind=" 'available descriptions' | translate "></h3>
			</div>
			<div class="panel-body">
				<div class="btn-group btn-group-sm btn-block  btn-group-justified">
					<a class="btn btn-sm btn-block" ng-repeat="desc in item.descriptions.description" ng-click="ui.changeDesc(desc)" ng-bind="desc.provider"></a>
				</div>
			</div>
		</section>
		<section id="RDF" class="panel panel-info">
			<div class="panel-heading">
				<h3 class="panel-title" ng-bind=" 'structured descriptor document' | translate"></h3>
			</div>
			<div class="panel-body">
				<div class="btn-group btn-group-justified">
					<a class="btn btn-link" rel="alternate" type="application/rdf+xml" ng-href="http://rdf.tools.dasish.org/tool/{{item.identifier.shortname}}/xml">RDF/XML</a>
					<a class="btn btn-link" rel="alternate" type="text/rdf+n3" ng-href="http://rdf.tools.dasish.org/tool/{{item.identifier.shortname}}/turtle">N3/Turtle</a>
					<a class="btn btn-link" rel="alternate" type="application/json+rdf" ng-href="http://rdf.tools.dasish.org/tool/{{item.identifier.shortname}}/json">RDF/JSON</a>
					<a class="btn btn-link" rel="alternate" type="text/plain" ng-href="http://rdf.tools.dasish.org/tool/{{item.identifier.shortname}}/ntriples">N-Triples</a>
				</div>
			</div>
		</section>
		<section id="blocks" ng-show="ui.sections.active > 0" class="panel panel-primary">
			<div class="panel-heading">
				<h3 class="panel-title" ng-bind="'available blocks' | translate"></h3>
			</div>
			<div class="panel-body">
				<div class="btn-group btn-group-sm btn-block  btn-group-justified">
					<a class="btn btn-sm btn-block" ng-repeat="key in ui.sections.list" ng-show="key" ng-click="ui.sections.toggle(key)" ng-bind="key"></a>
				</div>
			</div>
		</section>
	</div>
</div>
</section>